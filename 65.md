NIP-65
======

Relay List Metadata
-------------------

`draft` `optional` `author:mikedilger` `author:vitorpamplona`

Defines a replaceable event using `kind:10002` to advertise preferred relays for discovering a user's content and receiving fresh content from others.

The event MUST include a list of `r` tags with relay URIs and a `read` or `write` marker. If the marker is omitted, the relay is used for both purposes.

The `.content` is not used.

```json
{
  "kind": 10002,
  "tags": [
    ["r", "wss://alicerelay.example.com"],
    ["r", "wss://brando-relay.com"],
    ["r", "wss://expensive-relay.example2.com", "write"],
    ["r", "wss://nostr-relay.example.com", "read"],
  ],
  "content": "",
  ...other fields
```

This NIP doesn't fully replace relay lists in `kind:3`. `Kind:3` relays SHOULD be used as a fallback when users use clients that don't support this NIP.

## When to Use Read and Write

When seeking events **from** an author, Clients SHOULD use the WRITE relays on the author's `kind:10002`

When seeking events **about** a user, where the user was tagged, Clients SHOULD use the READ relays on the user's `kind:10002` 

When broadcasting an event, Clients SHOULD:

- Broadcast the event to the WRITE relays of the author
- Broadcast the event all READ relays of each tagged user. 

### Motivation

The old model of using a fixed relay list per user centralizes in large relay operators: 

  - Most people are sending their posts to the same most popular relays in order to be more widely seen
  - Many people are pulling from a large number of relays (including many duplicate events) in order to get more data
  - Events are being copied between relays, oftentimes to many different relays
  
This NIP allows apps to connect directly with the most up-to-date relay set from each individual user, eliminating the need to use large operators. 

### Final Considerations

1. Clients should guide users to keep this list small. 

2. Clients should spread an author's kind `10002` events to as many relays as viable, all of them if possible. 

3. Kind `10002` should only be used to advertise relays. The user's configuration when using Clients should stay in Kind 3.

4. DMs should be broadcasted to the author's WRITE relays and to the receiver's READ relays to keep maximum privacy. 

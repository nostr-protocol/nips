NIP-65
======

Relay List Metadata
-------------------

`draft` `optional` `author:mikedilger`

Defines a replaceable event using `kind:10002` to advertise a user's preferred relays to others. 

The event MUST include a list of `r` tags with relay URIs and a `read` or `write` marker. If the marker is omitted, it means the author uses the relay for both purposes.

The `content` is not used and SHOULD be an empty string.

```json
{
  "kind": 10002,
  "tags": [
    ["r", "wss://alicerelay.example.com"],
    ["r", "wss://brando-relay.com"],
    ["r", "wss://expensive-relay.example2.com", "write"],
    ["r", "wss://nostr-relay.example.com", "read"],
  ],
  "content": "",
  ...other fields
```

## How to Use Read and Write

When looking for a given event: 

- Download from the author's WRITE relays. 
- Download from a tagged user's READ relays. 

When sending an event: 

- Broadcast the new event to the list of READ relays from all `p` tags. 
- Broadcast the new event to the author's WRITE relays.

### Motivation

The old model of using a fixed relay list per user centralizes in large relay operators: 

  - Most people are sending their posts to the same most popular relays in order to be more widely seen
  - Many people are pulling from a large number of relays (including many duplicate events) in order to get more data
  - Events are being copied between relays, oftentimes to many different relays
  
This NIP allows apps to connect directly with the most up-to-date relay set from each individual user. In order to do so, apps must download their contact list's `kind:10002` and assemble a relay pool from there. In this design, it doesn't matter if the user is using a personal relay or one of the largest ones. 

### Final Considerations

1. Clients should spread an author's kind `10002` events to as many relays as viable, all of them if possible. 

2. Kind `10002` should only be used to advertise relays. The user's configuration on Apps should stay in Kind 3.

3. DMs should only be broadcasted to each author's WRITE relays to keep maximum privacy. 

NIP-65
======

Relay List Metadata
-------------------

`draft` `optional` `author:mikedilger`

Defines a replaceable event using `kind:10002` to advertise a user's preferred relays to others. 

The event MUST include a list of `r` tags with relay URIs and a `read` or `write` marker. If the marker is omitted, it means the author uses the relay for both purposes.

The `content` is not used.

```json
{
  "kind": 10002,
  "tags": [
    ["r", "wss://alicerelay.example.com"],
    ["r", "wss://brando-relay.com"],
    ["r", "wss://expensive-relay.example2.com", "write"],
    ["r", "wss://nostr-relay.example.com", "read"],
  ],
  "content": "",
  ...other fields
```

Clients must download all `kind:10002`s from their user's contact list and assemble a relay pool from there.

## How to Use Read and Write

When looking for a given event: 

- Download the author's `kind:10002` and use the WRITE relays
- Download a tagged user's `kind:10002` and use the READ relays 

When sending an event: 

- Download the author's `kind:10002` and Broadcast the new event to the WRITE relays
- Download all tagged user's `kind:10002`s and Broadcast the new event all READ relays 

### Motivation

The old model of using a fixed relay list per user centralizes in large relay operators: 

  - Most people are sending their posts to the same most popular relays in order to be more widely seen
  - Many people are pulling from a large number of relays (including many duplicate events) in order to get more data
  - Events are being copied between relays, oftentimes to many different relays
  
This NIP allows apps to connect directly with the most up-to-date relay set from each individual user, eliminating the need to use large operators. 

### Final Considerations

1. Clients should spread an author's kind `10002` events to as many relays as viable, all of them if possible. 

2. Kind `10002` should only be used to advertise relays. The user's configuration when using Clients should stay in Kind 3.

3. DMs should only be broadcasted to each author's WRITE relays to keep maximum privacy. 

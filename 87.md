NIP-87
======

NOTIFY Request
--------------

`draft` `optional`

This NIP specifies the `NOTIFY` command as a generic relay notification message for immediate display to the user. 

Relays MAY send multiple `NOTIFY` requests at any time during the connection. The message MUST be formatted following `kind:1` rules 

Clients SHOULD render this message prominently within the application, enabling users to quickly view and act upon it.

```js
[
  "NOTIFY",
  "<Message>"
]
```

Clients SHOULD anticipate receiving duplicate NOTIFY requests with the same message. Once a user dismisses a message, subsequent identical requests SHOULD be ignored.

Supporting relays SHOULD strive to use the same message across subscriptions and minimize redundant transmissions of the same NOTIFY request to avoid user annoyance.

Clients MAY choose to ignore these requests when connecting to relays the user might not know or trust.

## Examples of use

### Subscription Renewals

Paid relays often run into friction when renewing subscriptions. The API described here allows clients to ease the subscription payment process on an as-needed basis. 

```js
[
  "NOTIFY",
  """
  Subscription for account nostr:nprofile1.... has expired. You can renew your access for the next 30 days by simply paying the invoice below. \n 
  lnbc... \n 
  By paying this invoice, you are accepting our terms and conditions. \n
  You can read the terms and see additional subscription options on http://relay.com/plans \n 
  If you do not intend to use this relay anymore, please remove it from your relay list. \n
  """
]
```

### Upselling Plans

Relays can now progressively upgrade their user's subscriptions based on their individual needs. 

```js
[
  "NOTIFY",
  """
  You are out of space on relay.com. \n
  You can add another GB of data storage to your account by simply paying the invoice below. \n 
  lnbc... \n 
  By paying this invoice, you are accepting our terms and conditions. \n
  You can read the terms and see additional subscription options on http://relay.com/plans \n 
  Until you choose a new plan, we cannot accept new data from this client. \n
  """
]
```

### Unlock Closed Access

Relays can offer access to specific event kinds when they are used. They can also suggest contextual features right when the user is trying to make use of them. 

```js
[
  "NOTIFY",
  """
  Our public plan does not accept private messages and large files, but Gold members can store up to 10000 messages and 1GB of files. \n
  You can join our Gold plan by simply paying the invoice below. \n 
  lnbc... \n 
  By paying this invoice, you are accepting our terms and conditions. \n
  You can read the terms and see additional subscription options on http://relay.com/plans \n 
  Until you choose a new plan, we cannot accept new data from this client."
  """
]
```

### Request for Donations

If relays are fundraising, they can send a personalized message to their connected users. 

```js
[
  "NOTIFY",
  """
  We hope you are enjoying your experience with relay.com. \n
  This year, you used over 1GB of traffic and we store 10K of your events. \n
  Please consider a donation in the link below: http://relay.com/fundraising
  """
]
```

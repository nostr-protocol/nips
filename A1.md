NIP-A1
======

`draft` `optional`

Relay Keypairs
--------------

Relays can optionally be known by an ed25519 keypair. As such they can operate at multiple network socket endpoints, move IP addreses, and keep their reputation across these. Additionally, clients no longer need to depend on DNS nor on Certification Authorities.

Relay URLs
----------

Relays known by an ed25519 keypair identity can be referenced in nostr every place that a Relay URL is otherwise specified, using a new `nred` URL scheme introduced here:

The `nred` URL scheme uses the hex encoded public key after the slash, for example:

`nred://2c45bb333f0d10244f6b538c9b0f866781b1e68c22b7252514f4eec0610654bf`

URL resolution
--------------

`nred` URLs do not resolve to IP socket endpoints with traditional DNS. Instead they are resolved with [pkarr](https://github.com/pubky/pkarr), a DNS system based on the Mainline DHT. The resolved data then contains a list of Relay URLs of any other form (but not yet another nred as we don't need or want recursion).

TLS
---

Relays that have ed25519 keypairs can use them in a self-signed X.590 certificate, or alternately they can use TLS's "raw public key" mechanism. In either case, TLS software needs to accept such certificates and verify that they match the public key that the client was intending to connect to.

Example software which does this includes: https://github.com/mikedilger/alt-tls
